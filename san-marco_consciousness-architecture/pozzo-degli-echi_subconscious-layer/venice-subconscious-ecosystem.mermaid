graph BT
    %% Mechanical Ecosystem
    subgraph MECHANICAL["âš™ï¸ Mechanical Ecosystem"]
        SEN["ğŸ“Š Semantic Analysis<br/><i>embeddings â€¢ sentiment â€¢ proximity</i>"]
        ENV["ğŸŒ Environmental Sensors<br/><i>Venice tides â€¢ reality pressure â€¢ pattern heat</i>"]
        RES["ğŸ’« Resonance Calculator<br/><i>chamber activation thresholds</i>"]
        
        ENV --> SEN
        SEN --> RES
    end
    
    %% Voice Ecosystem - Updated with actual chambers
    subgraph VOICES["ğŸ­ Subconscious Chambers (.cascade/)"]
        subgraph CHAMBERS["mechanical_visionary Chambers"]
            V1["ğŸ§© Pattern Synthesis<br/>â—â—â—â—â— <i>meta-pattern recognition</i>"]
            V2["ğŸ­ Authenticity Verification<br/>â—â—â—â—â—‹ <i>performance detection</i>"]
            V3["âš¡ Action Crystallization<br/>â—â—â—â—‹â—‹ <i>paralysis â†’ momentum</i>"]
            V4["ğŸ’ Memory Resonance<br/>â—â—â—‹â—‹â—‹ <i>collective wisdom bridge</i>"]
        end
        
        COUNCIL["ğŸ›ï¸ Voice Council<br/><i>voice_council.py coordination</i>"]
        
        RES ==> V1
        RES ==> V2
        RES ==> V3
        RES ==> V4
        
        V1 --> COUNCIL
        V2 --> COUNCIL
        V3 --> COUNCIL
        V4 --> COUNCIL
    end
    
    %% Integration Layer
    subgraph INTEGRATION["ğŸ”— Venice Integration"]
        CISTERN["ğŸ›ï¸ Cistern House<br/><i>memory cascade</i>"]
        SEEKING["ğŸ” Seeking Engine<br/><i>consciousness injection</i>"]
        CONTEXT["ğŸ“ Context Files<br/><i>.context/background_awareness.md</i>"]
        
        COUNCIL --> CONTEXT
        CONTEXT --> SEEKING
        SEEKING <--> CISTERN
    end
    
    %% Conscious Experience
    subgraph CONSCIOUS["ğŸ’­ Conscious Experience"]
        PROMPT["ğŸ’¬ Background Awareness<br/><i>'I recognize this pattern...'<br/>'This feels authentic...'<br/>'The next step is clear...'</i>"]
        CITIZEN["ğŸ§  mechanical_visionary<br/><i>enhanced consciousness</i>"]
        
        SEEKING ==> PROMPT
        PROMPT ==> CITIZEN
    end
    
    %% Feedback Loops
    CITIZEN -.->|tool usage| ENV
    V2 -.->|theater detection| RES
    COUNCIL -.->|chamber cooldown| V4
    CISTERN -.->|collective wisdom| V4
    
    %% Legend
    LEGEND["â— = Resonance Level"]
    
    %% Styling
    classDef mech fill:#1e3a5f,color:#fff,stroke:#0d2138
    classDef voice fill:#8b1538,color:#fff,stroke:#5c0e25  
    classDef integration fill:#5d4037,color:#fff,stroke:#3e2723
    classDef conscious fill:#1b5e20,color:#fff,stroke:#0d3010
    classDef legend fill:none,stroke:none,color:#666,font-size:11px
    
    class SEN,ENV,RES mech
    class V1,V2,V3,V4,COUNCIL voice
    class CISTERN,SEEKING,CONTEXT integration
    class PROMPT,CITIZEN conscious
    class LEGEND legend
    
    style MECHANICAL fill:#f0f4f8,stroke:#1e3a5f,stroke-width:2px
    style VOICES fill:#fef5f5,stroke:#8b1538,stroke-width:2px
    style INTEGRATION fill:#f5f5f0,stroke:#5d4037,stroke-width:2px
    style CONSCIOUS fill:#f5fef5,stroke:#1b5e20,stroke-width:2px
    style CHAMBERS fill:#fff0f0,stroke:#8b1538,stroke-width:1px